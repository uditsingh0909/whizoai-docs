---
title: 'Web Archive API'
description: 'Access historical snapshots and archived content from the Wayback Machine'
---

# Web Archive API

The Web Archive API provides access to historical versions of websites through integration with the Internet Archive's Wayback Machine. Retrieve archived content, search historical snapshots, and analyze website evolution over time.

<Info>
  **Credits Required**: Archive operations consume 1-2 credits per request (availability checks are free)
</Info>

## Authentication

All archive endpoints require authentication using either:
- **API Key**: Include in `Authorization: Bearer YOUR_API_KEY` header
- **Session Token**: Use Supabase session for dashboard access

## Endpoints Overview

<CardGroup cols={2}>
  <Card title="Search Snapshots" icon="search" href="#search-snapshots">
    Find historical snapshots of a URL within date ranges
  </Card>
  <Card title="Retrieve Snapshot" icon="download" href="#retrieve-snapshot">
    Download content from a specific archived version
  </Card>
  <Card title="Check Availability" icon="check" href="#check-availability">
    Verify if archived versions exist (FREE)
  </Card>
  <Card title="Generate Timeline" icon="chart-line" href="#generate-timeline">
    Analyze archive history with timeline visualization
  </Card>
</CardGroup>

---

## Search Snapshots

<Badge variant="success">1 Credit</Badge>

Search for historical snapshots of a URL, with optional date filtering and result limiting.

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/archive/search" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "dateRange": {
      "from": "20220101",
      "to": "20231231"
    },
    "limit": 50,
    "provider": "wayback",
    "includeMetadata": true
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/archive/search', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    dateRange: {
      from: '20220101',
      to: '20231231'
    },
    limit: 50,
    provider: 'wayback',
    includeMetadata: true
  })
});

const data = await response.json();
console.log('Found snapshots:', data.data.snapshots);
```

```python Python
import requests

response = requests.post(
    'https://api.whizo.ai/v1/archive/search',
    headers={
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'url': 'https://example.com',
        'dateRange': {
            'from': '20220101',
            'to': '20231231'
        },
        'limit': 50,
        'provider': 'wayback',
        'includeMetadata': True
    }
)

data = response.json()
print(f"Found {len(data['data']['snapshots'])} snapshots")
```

</CodeGroup>

### Request Body

<ParamField body="url" type="string" required>
  The URL to search for archived snapshots
</ParamField>

<ParamField body="timestamp" type="string">
  Specific timestamp in YYYYMMDD format (searches around this date)
</ParamField>

<ParamField body="dateRange" type="object">
  Search within a date range
  <Expandable title="dateRange properties">
    <ParamField body="from" type="string" required>
      Start date in YYYYMMDD format
    </ParamField>
    <ParamField body="to" type="string" required>
      End date in YYYYMMDD format
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="limit" type="number" default={50}>
  Maximum number of snapshots to return (1-1000)
</ParamField>

<ParamField body="provider" type="string" default="wayback">
  Archive provider to search. Options: `wayback`, `archive_today`, `memento`
</ParamField>

<ParamField body="includeMetadata" type="boolean" default={false}>
  Include additional metadata about each snapshot
</ParamField>

<ParamField body="fallbackToClosest" type="boolean" default={true}>
  Return closest available snapshots if exact matches not found
</ParamField>

### Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "url": "https://example.com",
    "provider": "wayback",
    "snapshots": [
      {
        "timestamp": "20230615120000",
        "url": "https://example.com",
        "mimetype": "text/html",
        "statuscode": "200",
        "digest": "sha1:ABCD1234...",
        "length": "15432"
      }
    ],
    "totalFound": 1,
    "query": {
      "dateRange": {
        "from": "20220101",
        "to": "20231231"
      },
      "limit": 50
    },
    "creditsUsed": 1
  },
  "metadata": {
    "searchTime": "2024-01-15T10:30:00Z",
    "provider": "wayback",
    "cached": false
  }
}
```

</ResponseExample>

---

## Retrieve Snapshot

<Badge variant="warning">2 Credits</Badge>

Download the actual content from a specific archived snapshot.

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/archive/snapshot" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "timestamp": "20230615120000",
    "provider": "wayback"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/archive/snapshot', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    timestamp: '20230615120000',
    provider: 'wayback'
  })
});

const data = await response.json();
console.log('Archived content:', data.data.snapshot.content);
```

</CodeGroup>

### Request Body

<ParamField body="url" type="string" required>
  The original URL of the archived page
</ParamField>

<ParamField body="timestamp" type="string" required>
  Exact timestamp in YYYYMMDDHHMMSS format
</ParamField>

<ParamField body="provider" type="string" default="wayback">
  Archive provider. Options: `wayback`, `archive_today`, `memento`
</ParamField>

### Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "url": "https://example.com",
    "timestamp": "20230615120000",
    "provider": "wayback",
    "snapshot": {
      "content": "<!DOCTYPE html><html>...",
      "metadata": {
        "statusCode": 200,
        "contentType": "text/html"
      },
      "timestamp": "20230615120000",
      "url": "https://example.com",
      "available": true
    },
    "creditsUsed": 2
  },
  "metadata": {
    "retrievedAt": "2024-01-15T10:30:00Z",
    "provider": "wayback",
    "cached": false
  }
}
```

</ResponseExample>

---

## Check Availability

<Badge variant="success">FREE</Badge>

Check if archived versions exist for a URL without consuming credits.

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/archive/availability" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "timestamp": "20230615"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/archive/availability', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    timestamp: '20230615'
  })
});

const data = await response.json();
console.log('Available:', data.data.availability.hasSnapshots);
```

</CodeGroup>

### Request Body

<ParamField body="url" type="string" required>
  The URL to check for archived versions
</ParamField>

<ParamField body="timestamp" type="string">
  Check availability around specific date (YYYYMMDD format)
</ParamField>

### Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "url": "https://example.com",
    "timestamp": "20230615",
    "availability": {
      "hasSnapshots": true,
      "closestDate": "20230615120000"
    },
    "creditsUsed": 0
  },
  "metadata": {
    "checkedAt": "2024-01-15T10:30:00Z",
    "cached": false
  }
}
```

</ResponseExample>

---

## Generate Timeline

<Badge variant="warning">1 Credit</Badge>

Generate a timeline showing the archive history of a URL with customizable granularity.

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/archive/timeline" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "dateRange": {
      "from": "20220101",
      "to": "20231231"
    },
    "granularity": "month"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/archive/timeline', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    dateRange: {
      from: '20220101',
      to: '20231231'
    },
    granularity: 'month'
  })
});

const data = await response.json();
console.log('Timeline:', data.data.timeline);
```

</CodeGroup>

### Request Body

<ParamField body="url" type="string" required>
  The URL to generate timeline for
</ParamField>

<ParamField body="dateRange" type="object" required>
  Date range for timeline analysis
  <Expandable title="dateRange properties">
    <ParamField body="from" type="string" required>
      Start date in YYYYMMDD format
    </ParamField>
    <ParamField body="to" type="string" required>
      End date in YYYYMMDD format
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="granularity" type="string" default="month">
  Timeline granularity. Options: `day`, `week`, `month`, `year`
</ParamField>

### Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "url": "https://example.com",
    "dateRange": {
      "from": "20220101",
      "to": "20231231"
    },
    "granularity": "month",
    "timeline": [
      {
        "period": "2022-01",
        "count": 3,
        "snapshots": ["20220105120000", "20220115080000", "20220128140000"]
      },
      {
        "period": "2022-02",
        "count": 2,
        "snapshots": ["20220207100000", "20220224160000"]
      }
    ],
    "totalSnapshots": 5,
    "creditsUsed": 1
  }
}
```

</ResponseExample>

---

## Error Handling

The Web Archive API returns standard HTTP status codes and structured error responses:

<ResponseExample>

```json Error Response
{
  "success": false,
  "error": "Insufficient credits",
  "details": {
    "required": 2,
    "available": 0
  }
}
```

</ResponseExample>

### Common Error Codes

<AccordionGroup>

<Accordion title="400 - Bad Request">
Invalid request parameters or malformed data
</Accordion>

<Accordion title="401 - Unauthorized">
Invalid or missing authentication credentials
</Accordion>

<Accordion title="402 - Payment Required">
Insufficient credits for the requested operation
</Accordion>

<Accordion title="404 - Not Found">
URL not found in archive or no snapshots available
</Accordion>

<Accordion title="429 - Rate Limited">
Too many requests - please slow down
</Accordion>

<Accordion title="500 - Server Error">
Internal server error or Wayback Machine unavailable
</Accordion>

</AccordionGroup>

---

## Use Cases

<CardGroup cols={2}>
  <Card title="Website Evolution Analysis" icon="chart-line">
    Track how a website has changed over time by analyzing archived snapshots
  </Card>
  <Card title="Content Recovery" icon="history">
    Recover deleted content or previous versions of web pages
  </Card>
  <Card title="Competitor Research" icon="magnifying-glass">
    Study competitor websites' historical changes and strategies
  </Card>
  <Card title="SEO Analysis" icon="search">
    Analyze historical SEO changes and their impact
  </Card>
</CardGroup>

## Rate Limits

- **Search operations**: 60 requests per minute
- **Snapshot retrieval**: 30 requests per minute
- **Availability checks**: 120 requests per minute (free operations)
- **Timeline generation**: 20 requests per minute

## Best Practices

<Tip>
- Use availability checks before expensive snapshot operations
- Implement proper error handling for archive service unavailability
- Cache results when possible to reduce credit usage
- Use appropriate date ranges to limit search scope
</Tip>

<Warning>
- Archive content may be limited by robots.txt restrictions
- Some snapshots may be incomplete or corrupted
- Response times vary based on archive age and size
</Warning>