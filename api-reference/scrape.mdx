---
title: "Scrape API"
api: "POST https://api.whizo.ai/v1/scrape"
description: "Extract content from individual web pages with extensive customization options"
---

The Scrape API allows you to extract content from any webpage and convert it to your preferred format. It supports multiple scraping engines, JavaScript rendering, browser automation actions, AI extraction, and various output formats.

## Authentication

<ParamField header="Authorization" type="string" required>
  Bearer token using your API key: `Bearer YOUR_API_KEY`
</ParamField>

## Request Body

<ParamField body="url" type="string" required>
  The URL of the webpage to scrape. Must be a valid HTTP/HTTPS URL.
</ParamField>

### Output Formats

<ParamField body="formats" type="array">
  Array of output formats to generate (supports multiple formats in one request)
  - `markdown` - Clean markdown format (default)
  - `html` - Cleaned HTML content
  - `rawHtml` - Raw HTML without processing
  - `text` - Plain text only
  - `json` - Structured JSON format
  - `structured` - AI-enhanced structured data
  - `links` - Extract all links
  - `screenshot` - Capture screenshot
  - `screenshot@fullPage` - Full page screenshot
  - `pdf` - Generate PDF
  - `extract` - AI-powered extraction
</ParamField>

<ParamField body="format" type="string" default="markdown">
  Legacy single format parameter (use `formats` array for multiple outputs)
</ParamField>

### Content Processing Options

<ParamField body="onlyMainContent" type="boolean" default="false">
  Extract only main content, removing headers, footers, and sidebars
</ParamField>

<ParamField body="includeMetadata" type="boolean" default="true">
  Include page metadata (title, description, author, etc.)
</ParamField>

<ParamField body="includeLinks" type="boolean" default="true">
  Include hyperlinks in the extracted content
</ParamField>

<ParamField body="includeImages" type="boolean" default="true">
  Include image URLs in the extracted content
</ParamField>

<ParamField body="removeAds" type="boolean" default="true">
  Automatically remove advertisements and tracking scripts
</ParamField>

<ParamField body="removeScripts" type="boolean" default="true">
  Remove JavaScript from HTML output
</ParamField>

<ParamField body="removeStyles" type="boolean" default="false">
  Remove CSS styling from HTML output
</ParamField>

<ParamField body="includeTags" type="array">
  Array of HTML tags to include (whitelist)
</ParamField>

<ParamField body="excludeTags" type="array">
  Array of HTML tags to exclude (blacklist)
</ParamField>

### Screenshot & PDF Options

<ParamField body="includeScreenshot" type="boolean" default="false">
  Capture a screenshot of the page (+1 credit)
</ParamField>

<ParamField body="screenshotType" type="string" default="viewport">
  Screenshot type:
  - `viewport` - Visible viewport only
  - `fullpage` - Entire scrollable page
</ParamField>

<ParamField body="includePdf" type="boolean" default="false">
  Generate a PDF of the page (+1 credit)
</ParamField>

<ParamField body="parsePdf" type="boolean" default="false">
  Parse PDF content if URL points to a PDF file
</ParamField>

### Engine & Browser Options

<ParamField body="engine" type="string">
  Scraping engine to use:
  - `lightweight` - Fast HTTP-based scraping (default)
  - `playwright` - Full browser with JavaScript support
  - `puppeteer` - Alternative browser engine
  - `stealth` - Anti-detection browser mode (+4 credits)
</ParamField>

<ParamField body="javascript" type="boolean" default="false">
  Enable JavaScript rendering for dynamic content
</ParamField>

<ParamField body="stealth" type="boolean" default="false">
  Enable stealth mode with automatic escalation on bot detection. Automatically upgrades from basic → advanced → maximum stealth if bot detection is encountered (+5 credits)
</ParamField>

<ParamField body="mobile" type="boolean" default="false">
  Use mobile viewport for rendering
</ParamField>

<ParamField body="viewport" type="object">
  Custom viewport dimensions
  <Expandable title="viewport properties">
    <ParamField body="viewport.width" type="number">
      Viewport width in pixels (100-1920)
    </ParamField>
    <ParamField body="viewport.height" type="number">
      Viewport height in pixels (100-1080)
    </ParamField>
  </Expandable>
</ParamField>

### Timing Options

<ParamField body="waitFor" type="number" default="0">
  Time to wait after page load in milliseconds (0-30000)
</ParamField>

<ParamField body="waitTime" type="number" default="0">
  Legacy: Same as waitFor, in seconds (0-30)
</ParamField>

<ParamField body="timeout" type="number" default="30000">
  Maximum time to wait for page load in milliseconds (1000-120000)
</ParamField>

<ParamField body="waitForSelector" type="string">
  CSS selector to wait for before considering page loaded
</ParamField>

### Browser Automation Actions

<ParamField body="actions" type="array">
  Array of browser automation actions to perform (max 20 actions)
  <Expandable title="action types">
    <ParamField body="actions[].type" type="string" required>
      Action type:
      - `click` - Click an element
      - `scroll` - Scroll the page
      - `input` - Type text into an input field
      - `wait` - Wait for specified duration
      - `screenshot` - Take a screenshot at this point
      - `select` - Select dropdown option
      - `hover` - Hover over an element
      - `key` - Press a keyboard key
      - `evaluate` - Execute JavaScript code
    </ParamField>
    <ParamField body="actions[].selector" type="string">
      CSS selector for the target element
    </ParamField>
    <ParamField body="actions[].text" type="string">
      Text to input or option to select
    </ParamField>
    <ParamField body="actions[].value" type="string">
      Value for the action
    </ParamField>
    <ParamField body="actions[].milliseconds" type="number">
      Wait duration in milliseconds (100-30000)
    </ParamField>
    <ParamField body="actions[].key" type="string">
      Keyboard key to press (e.g., "Enter", "Tab")
    </ParamField>
    <ParamField body="actions[].direction" type="string">
      Scroll direction: `up`, `down`, `left`, `right`
    </ParamField>
    <ParamField body="actions[].pixels" type="number">
      Number of pixels to scroll (1-5000)
    </ParamField>
    <ParamField body="actions[].description" type="string">
      Optional description of what this action does
    </ParamField>
  </Expandable>
</ParamField>

### Authentication

<ParamField body="authentication" type="object">
  Authentication credentials for protected pages
  <Expandable title="authentication properties">
    <ParamField body="authentication.type" type="string" required>
      Authentication type: `basic` or `bearer`
    </ParamField>
    <ParamField body="authentication.username" type="string">
      Username for basic auth
    </ParamField>
    <ParamField body="authentication.password" type="string">
      Password for basic auth
    </ParamField>
    <ParamField body="authentication.token" type="string">
      Token for bearer auth
    </ParamField>
  </Expandable>
</ParamField>

### AI Extraction

<ParamField body="extract" type="object">
  AI-powered data extraction configuration
  <Expandable title="extract properties">
    <ParamField body="extract.schema" type="object">
      JSON schema defining the structure of data to extract
    </ParamField>
    <ParamField body="extract.systemPrompt" type="string">
      System prompt for the AI model (max 3000 chars)
    </ParamField>
    <ParamField body="extract.prompt" type="string">
      User prompt describing what to extract (max 3000 chars)
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="agent" type="object">
  Whizo Agent configuration for advanced AI extraction
  <Expandable title="agent properties">
    <ParamField body="agent.model" type="string" default="Whizo-Agent">
      AI model to use for extraction
    </ParamField>
    <ParamField body="agent.prompt" type="string">
      Prompt for the Whizo Agent (max 3000 chars)
    </ParamField>
  </Expandable>
</ParamField>

### Request Customization

<ParamField body="headers" type="object">
  Custom HTTP headers to send with the request
  ```json
  {
    "User-Agent": "CustomBot/1.0",
    "Accept-Language": "en-US"
  }
  ```
</ParamField>

<ParamField body="userAgent" type="string">
  Custom user agent string
</ParamField>

<ParamField body="location" type="object">
  Geolocation and language settings
  <Expandable title="location properties">
    <ParamField body="location.country" type="string">
      ISO country code (e.g., "US", "GB", "JP")
    </ParamField>
    <ParamField body="location.languages" type="array">
      Array of language codes (e.g., ["en-US", "en"])
    </ParamField>
  </Expandable>
</ParamField>

### Advanced Options

<ParamField body="useProxy" type="boolean" default="false">
  Enable premium proxy rotation from a pool of 10+ rotating proxies for better reliability and IP diversity (+2 credits)
</ParamField>

<ParamField body="llmOptimization" type="boolean" default="false">
  Optimize content format for LLM consumption
</ParamField>

<ParamField body="skipTlsVerification" type="boolean" default="false">
  Skip TLS/SSL certificate verification (use with caution)
</ParamField>

<ParamField body="executeJS" type="string">
  Custom JavaScript code to execute on the page
</ParamField>

<ParamField body="replaceAllPathsWithAbsolutePaths" type="boolean" default="false">
  Convert all relative URLs to absolute URLs
</ParamField>

<ParamField body="priority" type="string" default="medium">
  Job priority: `low`, `medium`, or `high`
</ParamField>

<ParamField body="maxAge" type="number" default="30">
  Cache max age in days (0-365). Set to 0 to bypass cache.
</ParamField>

### HTML Processing

<ParamField body="htmlFormat" type="string" default="cleaned">
  HTML output format:
  - `cleaned` - Cleaned and formatted HTML
  - `raw` - Raw HTML without processing
</ParamField>

<ParamField body="stripHtml" type="boolean" default="false">
  Remove all HTML tags, leaving only text
</ParamField>

<ParamField body="removeTags" type="array">
  HTML tags to remove from output
</ParamField>

<ParamField body="onlyIncludeTags" type="array">
  Only include these HTML tags (whitelist)
</ParamField>

### JSON Extraction

<ParamField body="enableJsonExtraction" type="boolean" default="false">
  Enable automatic JSON extraction from page
</ParamField>

<ParamField body="jsonSchema" type="string">
  JSON schema for structured extraction
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="data properties">
    <ResponseField name="content" type="string">
      The extracted content in the requested format
    </ResponseField>

    <ResponseField name="markdown" type="string" optional>
      Markdown formatted content (if markdown format requested)
    </ResponseField>

    <ResponseField name="html" type="string" optional>
      HTML content (if html format requested)
    </ResponseField>

    <ResponseField name="rawHtml" type="string" optional>
      Raw HTML (if rawHtml format requested)
    </ResponseField>

    <ResponseField name="links" type="array" optional>
      Extracted links (if links format requested)
    </ResponseField>

    <ResponseField name="metadata" type="object">
      <Expandable title="metadata properties">
        <ResponseField name="title" type="string">
          Page title
        </ResponseField>
        <ResponseField name="description" type="string">
          Page meta description
        </ResponseField>
        <ResponseField name="author" type="string">
          Page author
        </ResponseField>
        <ResponseField name="publishedDate" type="string">
          Publication date
        </ResponseField>
        <ResponseField name="url" type="string">
          Final URL after redirects
        </ResponseField>
        <ResponseField name="statusCode" type="number">
          HTTP response status code
        </ResponseField>
        <ResponseField name="contentType" type="string">
          Content-Type header value
        </ResponseField>
        <ResponseField name="language" type="string">
          Detected language
        </ResponseField>
        <ResponseField name="extractedAt" type="string">
          ISO timestamp of extraction
        </ResponseField>
        <ResponseField name="processingTime" type="number">
          Processing time in milliseconds
        </ResponseField>
        <ResponseField name="creditsUsed" type="number">
          Number of credits consumed
        </ResponseField>
      </Expandable>
    </ResponseField>

    <ResponseField name="screenshots" type="array" optional>
      Array of screenshot URLs (if requested)
    </ResponseField>

    <ResponseField name="pdf" type="string" optional>
      PDF download URL (if requested)
    </ResponseField>

    <ResponseField name="extracted" type="object" optional>
      AI-extracted data (if extract format requested)
    </ResponseField>
  </Expandable>
</ResponseField>

## Examples

### Basic Scraping

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/scrape" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/scrape', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com'
  })
});

const data = await response.json();
console.log(data.data.content);
```

```python Python
import requests

response = requests.post(
    'https://api.whizo.ai/v1/scrape',
    headers={
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'url': 'https://example.com'
    }
)

data = response.json()
print(data['data']['content'])
```

</CodeGroup>

<ResponseExample>
```json Response
{
  "success": true,
  "data": {
    "content": "# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this domain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)",
    "metadata": {
      "title": "Example Domain",
      "description": "Example domain for documentation",
      "url": "https://example.com",
      "statusCode": 200,
      "contentType": "text/html",
      "extractedAt": "2025-01-15T10:30:00Z",
      "processingTime": 1200,
      "creditsUsed": 1
    }
  }
}
```
</ResponseExample>

### Advanced: Multiple Formats with Screenshot

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/scrape" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type": 'application/json" \
  -d '{
    "url": "https://example.com",
    "formats": ["markdown", "html", "screenshot", "pdf"],
    "javascript": true,
    "waitFor": 3000,
    "screenshotType": "fullpage"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/scrape', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    formats: ['markdown', 'html', 'screenshot', 'pdf'],
    javascript: true,
    waitFor: 3000,
    screenshotType: 'fullpage'
  })
});

const data = await response.json();
console.log('Markdown:', data.data.markdown);
console.log('HTML:', data.data.html);
console.log('Screenshot:', data.data.screenshots[0]);
console.log('PDF:', data.data.pdf);
```

</CodeGroup>

### Browser Automation with Actions

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/scrape" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type": application/json" \
  -d '{
    "url": "https://example.com/search",
    "actions": [
      {
        "type": "input",
        "selector": "#search-input",
        "text": "web scraping"
      },
      {
        "type": "click",
        "selector": "#search-button"
      },
      {
        "type": "wait",
        "milliseconds": 2000
      },
      {
        "type": "screenshot",
        "description": "Search results page"
      }
    ]
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/scrape', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com/search',
    actions: [
      {
        type: 'input',
        selector: '#search-input',
        text: 'web scraping'
      },
      {
        type: 'click',
        selector: '#search-button'
      },
      {
        type: 'wait',
        milliseconds: 2000
      },
      {
        type: 'screenshot',
        description: 'Search results page'
      }
    ]
  })
});
```

</CodeGroup>

### AI-Powered Extraction

<CodeGroup>

```bash cURL
curl -X POST "https://api.whizo.ai/v1/scrape" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com/product",
    "formats": ["extract"],
    "extract": {
      "schema": {
        "name": "string",
        "price": "number",
        "description": "string",
        "inStock": "boolean",
        "rating": "number"
      },
      "prompt": "Extract product information from this page"
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.whizo.ai/v1/scrape', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com/product',
    formats: ['extract'],
    extract: {
      schema: {
        name: 'string',
        price: 'number',
        description: 'string',
        inStock: 'boolean',
        rating: 'number'
      },
      prompt: 'Extract product information from this page'
    }
  })
});

const data = await response.json();
console.log('Extracted:', data.data.extracted);
```

</CodeGroup>

<ResponseExample>
```json Response
{
  "success": true,
  "data": {
    "extracted": {
      "name": "Example Product",
      "price": 29.99,
      "description": "High-quality product description...",
      "inStock": true,
      "rating": 4.5
    },
    "metadata": {
      "creditsUsed": 3
    }
  }
}
```
</ResponseExample>

## Error Responses

<ResponseField name="error" type="object">
  <Expandable title="error properties">
    <ResponseField name="code" type="string">
      Error code identifier
    </ResponseField>
    <ResponseField name="message" type="string">
      Human-readable error message
    </ResponseField>
    <ResponseField name="details" type="object" optional>
      Additional error context
    </ResponseField>
  </Expandable>
</ResponseField>

### Common Errors

| Status Code | Error Code | Description |
|-------------|------------|-------------|
| 400 | `invalid_url` | The provided URL is invalid or malformed |
| 400 | `invalid_options` | One or more options are invalid |
| 400 | `invalid_actions` | Browser automation actions are invalid |
| 401 | `unauthorized` | Invalid or missing API key |
| 402 | `insufficient_credits` | Not enough credits to complete the request |
| 429 | `rate_limited` | Rate limit exceeded |
| 500 | `scraping_failed` | Failed to scrape the webpage |
| 500 | `timeout` | Request timed out |
| 500 | `extraction_failed` | AI extraction failed |

<ResponseExample>
```json Error Response
{
  "success": false,
  "error": {
    "code": "invalid_url",
    "message": "The provided URL is not valid",
    "details": {
      "url": "invalid-url"
    }
  }
}
```
</ResponseExample>

## Credit Costs

| Feature | Cost |
|---------|------|
| Basic scraping | 1 credit |
| JavaScript rendering | +1 credit |
| Screenshot (viewport) | +1 credit |
| Screenshot (fullpage) | +1 credit |
| PDF generation | +1 credit |
| Structured format | +1 credit |
| AI extraction | +2-3 credits |
| Stealth mode with auto-escalation | +5 credits |
| Premium proxy rotation | +2 credits |

**Note**: Costs are cumulative. For example, scraping with JavaScript + screenshot + PDF = 1 + 1 + 1 + 1 = 4 credits total.

## Rate Limits

Rate limits vary by plan:

- **Free**: 10 requests per hour, 100 per day
- **Starter**: 50 requests per hour, 500 per day
- **Pro**: 200 requests per hour, 2000 per day
- **Enterprise**: Custom limits

## Best Practices

1. **Use lightweight engine** for static pages to save credits
2. **Enable javascript** only when page uses dynamic content
3. **Set appropriate waitFor** times for JavaScript-heavy pages
4. **Use actions** for interactive pages requiring user input
5. **Cache results** using maxAge for frequently accessed pages
6. **Use batch endpoint** for scraping multiple URLs efficiently
7. **Implement retry logic** for failed requests
8. **Monitor credit usage** to avoid running out during critical operations

## Related Endpoints

- [Batch Scraping](/api-reference/batch) - Scrape multiple URLs
- [Crawl API](/api-reference/crawl) - Crawl entire websites
- [Extract API](/api-reference/extract) - AI-powered data extraction
- [Map API](/api-reference/map) - Discover website URLs
